<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>Hamster Kombat</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="game-box">
    <h2 id="welcome">‘≤’°÷Ä’´ ’£’°’¨’∏÷Ç’Ω’ø</h2>
    <p>üí∞ Coins: <span id="coins">0</span></p>
    <p>‚≠ê Level: <span id="level">1</span></p>
    <img src="https://coinspot.io/wp-content/uploads/2024/09/snimok-ekrana-2024-09-15-v-17.03.12.png" onclick="clickHamster()" />
    <div class="buttons">
      <button onclick="upgrade()">Upgrade ‚ö°</button>
      <button onclick="logout()">‘¥’∏÷Ç÷Ä’Ω ’£’°’¨ üö™</button>
    </div>
  </div>

  <script>
    let username = localStorage.getItem("loggedInUser");
    if (!username) {
      alert("’Ñ’∏÷Ç’ø÷Ñ ’£’∏÷Ä’Æ’•÷Ñ’ù ’≠’°’≤’® ’Ω’Ø’Ω’•’¨’∏÷Ç ’∞’°’¥’°÷Ä");
      window.location.href = "index.html";
    }

    let user = JSON.parse(localStorage.getItem("user_" + username));
    let coins = user.coins || 0;
    let level = user.level || 1;
    let power = user.power || 1;

    document.getElementById("welcome").textContent += `, ${username}`;
    document.getElementById("coins").textContent = coins;
    document.getElementById("level").textContent = level;

    function clickHamster() {
      coins += power;
      update();
    }

    function upgrade() {
      if (coins >= 10) {
        coins -= 10;
        power++;
        level++;
        update();
      } else {
        alert("‘¥’∏÷Ç ’π’∏÷Ç’∂’•’Ω ’¢’°’æ’°÷Ä’°÷Ä ’¥’•’ø’°’≤’°’§÷Ä’°’¥ ‚ö†Ô∏è");
      }
    }

    function update() {
      document.getElementById("coins").textContent = coins;
      document.getElementById("level").textContent = level;
      user.coins = coins;
      user.level = level;
      user.power = power;
      localStorage.setItem("user_" + username, JSON.stringify(user));
    }

    function logout() {
      localStorage.removeItem("loggedInUser");
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
